package golang

const (
	defineTemplate = `// Code generated by https://github.com/meerkat-io/disorder; DO NOT EDIT.
package {{PackageName .Package}}
{{- if .AbsImports}}

import (
{{- range .Imports}} //TO-DO DefineImports
	"{{.}}"
{{- end}}
)
{{- end}}
{{- range $i, $enum := .Enums}}

type {{PascalCase $enum.Name}} string

const (
{{- range .Values}}
	{{PascalCase $enum.Name}}{{PascalCase .}} = {{PascalCase $enum.Name}}("{{.}}")
{{- end}}
)

var {{CamelCase $enum.Name}}EnumMap = map[string]Color {
{{- range .Values}}
	"{{.}}":{{PascalCase $enum.Name}}{{PascalCase .}},
{{- end}}
}

func (*{{PascalCase $enum.Name}}) Enum() {}

func (enum *{{PascalCase $enum.Name}}) FromString(value string) error {
	if value == "" {
		return fmt.Errorf("empty enum value")
	}
	if len(value) > 255 {
		return fmt.Errorf("enum length overflow. should less than 255")
	}
	if {{CamelCase $enum.Name}}, ok := {{CamelCase $enum.Name}}EnumMap[value]; ok {
		*enum = {{CamelCase $enum.Name}}
		return nil
	}
	return fmt.Errorf("invalid enum value: %s", value)
}

func (enum *{{PascalCase $enum.Name}}) ToString() (string, error) {
	name := string(*enum)
	if len(name) == 0 {
		return "", fmt.Errorf("empty enum value")
	}
	if len(name) > 255 {
		return "", fmt.Errorf("enum length overflow. should less than 255")
	}
	if _, ok := {{CamelCase $enum.Name}}EnumMap[name]; ok {
		return name, nil
	}
	return "", fmt.Errorf("invalid enum value: %s", name)
}
{{- end}}
{{- range .Messages}}

type {{PascalCase .Name}} struct {
	{{- range .Fields}}
	{{PascalCase .Name}} {{Type .Type}} {{Tag .Type .Name}}
	{{- end}}
}
{{- end}}`
)
